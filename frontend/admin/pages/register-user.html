<!DOCTYPE html>
<html lang="en" class="bg-gray-100">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Dr.Net Admin Portal - Register User</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/styles.css" />

    <style>
      /* Professional CTIO Styling */
      .ctio-professional {
        background: #1e293b;
      }

      /* Sidebar styling */
      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        width: 280px;
        z-index: 50;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
      }

      @media (min-width: 1024px) {
        .sidebar {
          transform: translateX(0);
        }
        .main-content {
          margin-left: 280px;
        }
      }

      /* Mobile toggle */
      .mobile-toggle {
        display: block;
      }

      @media (min-width: 1024px) {
        .mobile-toggle {
          display: none;
        }
      }

      /* Hover effects */
      .nav-item:hover {
        transform: translateX(8px);
        background: rgba(255, 255, 255, 0.15);
      }
    </style>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <!-- Mobile backdrop -->
    <div
      id="sidebarBackdrop"
      class="fixed inset-0 bg-black bg-opacity-60 z-40 lg:hidden hidden transition-opacity duration-300"
    ></div>

    <!-- Modern Sidebar -->
    <aside
      id="sidebar"
      class="sidebar ctio-professional shadow-2xl flex flex-col text-white"
    >
      <!-- Sidebar Header -->
      <div class="p-6 border-b border-white/20">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-3">
            <div
              class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-lg"
            >
              <i class="fas fa-network-wired text-xl text-white"></i>
            </div>
            <div>
              <h2 class="text-xl font-bold">DR.NET CTIO</h2>
              <p class="text-white/80 text-sm">Julius Ojwang - CTO</p>
            </div>
          </div>
          <button
            id="closeSidebar"
            class="mobile-toggle text-white/80 hover:text-white p-2 rounded-lg hover:bg-white/10 transition-all duration-200"
          >
            <i class="fas fa-times text-lg"></i>
          </button>
        </div>
      </div>

      <!-- Navigation -->
      <nav class="flex-1 p-4 space-y-2 overflow-y-auto">
        <a
          href="dashboard.html"
          class="nav-item group flex items-center px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/15 text-white/90 hover:text-white"
        >
          <div
            class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-white/20 transition-all duration-300"
          >
            <i class="fas fa-chart-pie text-lg"></i>
          </div>
          <span class="font-medium">Dashboard</span>
        </a>

        <a
          href="register-user.html"
          class="nav-item group flex items-center px-4 py-3 rounded-xl bg-white/20 text-white transition-all duration-300"
        >
          <div
            class="w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4 transition-all duration-300"
          >
            <i class="fas fa-user-plus text-lg"></i>
          </div>
          <span class="font-medium">Register User</span>
        </a>

        <a
          href="manage-users.html"
          class="nav-item group flex items-center px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/15 text-white/90 hover:text-white"
        >
          <div
            class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-white/20 transition-all duration-300"
          >
            <i class="fas fa-users text-lg"></i>
          </div>
          <span class="font-medium">Manage Users</span>
        </a>

        <a
          href="deleted-users.html"
          class="nav-item group flex items-center px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/15 text-white/90 hover:text-white"
        >
          <div
            class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-white/20 transition-all duration-300"
          >
            <i class="fas fa-trash text-lg"></i>
          </div>
          <span class="font-medium">Deleted Users</span>
        </a>

        <a
          href="service-assignments.html"
          class="nav-item group flex items-center px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/15 text-white/90 hover:text-white"
        >
          <div
            class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-white/20 transition-all duration-300"
          >
            <i class="fas fa-tools text-lg"></i>
          </div>
          <span class="font-medium">Service Assignments</span>
        </a>

        <a
          href="supervisor-dashboard.html"
          class="nav-item group flex items-center px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/15 text-white/90 hover:text-white"
        >
          <div
            class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-white/20 transition-all duration-300"
          >
            <i class="fas fa-ticket-alt text-lg"></i>
          </div>
          <span class="font-medium">Support Tickets</span>
        </a>

        <a
          href="renewals.html"
          class="nav-item group flex items-center px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/15 text-white/90 hover:text-white"
        >
          <div
            class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-white/20 transition-all duration-300"
          >
            <i class="fas fa-sync-alt text-lg"></i>
          </div>
          <span class="font-medium">Renewals</span>
        </a>

        <a
          href="invoice-generator.html"
          class="nav-item group flex items-center px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/15 text-white/90 hover:text-white"
        >
          <div
            class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-white/20 transition-all duration-300"
          >
            <i class="fas fa-file-invoice-dollar text-lg"></i>
          </div>
          <span class="font-medium">Finance and Reports</span>
        </a>

        <a
          href="website-bookings.html"
          class="nav-item group flex items-center px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/15 text-white/90 hover:text-white"
        >
          <div
            class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-white/20 transition-all duration-300"
          >
            <i class="fas fa-globe text-lg"></i>
          </div>
          <span class="font-medium">Website Bookings</span>
        </a>

        <a
          href="team-communication.html"
          class="nav-item group flex items-center px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/15 text-white/90 hover:text-white"
        >
          <div
            class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-white/20 transition-all duration-300"
          >
            <i class="fas fa-comments text-lg"></i>
          </div>
          <span class="font-medium">Team Communication</span>
        </a>

        <a
          href="settings.html"
          class="nav-item group flex items-center px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/15 text-white/90 hover:text-white"
        >
          <div
            class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-white/20 transition-all duration-300"
          >
            <i class="fas fa-cog text-lg"></i>
          </div>
          <span class="font-medium">Settings</span>
        </a>
      </nav>

      <!-- User Profile Section -->
      <div class="p-4 border-t border-white/20">
        <div class="flex items-center space-x-3 mb-4">
          <div
            class="w-10 h-10 bg-indigo-500 rounded-full flex items-center justify-center"
          >
            <span class="text-white font-bold text-lg">JO</span>
          </div>
          <div>
            <p class="text-sm font-medium">Julius Ojwang</p>
            <p class="text-white/70 text-xs">Chief Technology Officer</p>
          </div>
        </div>
        <button
          onclick="logout()"
          class="w-full bg-red-600/80 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2"
        >
          <i class="fas fa-sign-out-alt"></i>
          <span>Log Out</span>
        </button>
      </div>
    </aside>

    <!-- Mobile Menu Toggle -->
    <button
      id="toggleSidebar"
      class="mobile-toggle fixed top-6 left-6 z-50 bg-white/20 backdrop-blur-lg text-white p-3 rounded-xl shadow-lg hover:bg-white/30 transition-all duration-300"
    >
      <i class="fas fa-bars text-lg"></i>
    </button>

    <!-- Main Content -->
    <main
      class="main-content p-6 overflow-y-auto transition-all duration-300 ease-in-out"
    >
      <!-- Tab Navigation -->
      <div class="mt-6 mb-8">
        <div class="flex space-x-1 bg-gray-200 p-1 rounded-lg w-fit">
          <button
            id="userTab"
            class="tab-button px-6 py-3 rounded-md font-medium transition-all duration-200 bg-white text-indigo-600 shadow-sm"
            onclick="switchTab('user')"
          >
            üë• Register User
          </button>
          <button
            id="staffTab"
            class="tab-button px-6 py-3 rounded-md font-medium transition-all duration-200 text-gray-600 hover:text-indigo-600"
            onclick="switchTab('staff')"
          >
            üë®‚Äçüíº Register Staff
          </button>
        </div>
      </div>

      <section
        id="register-user"
        class="space-y-8 transition-all duration-300 ease-in-out"
      >
        <h3
          class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent"
        >
          Register New User
        </h3>
        <form
          id="registerForm"
          class="bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-lg space-y-6"
          onsubmit="submitUserForm(event)"
        >
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Full Name</label
              >
              <input
                name="name"
                placeholder="Enter full name"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Location</label
              >
              <input
                name="location"
                placeholder="Enter location"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Phone Number</label
              >
              <input
                name="phone"
                placeholder="+254 xxx xxx xxx"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Subscription Amount</label
              >
              <input
                name="subscriptionAmount"
                type="number"
                placeholder="Enter amount"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Router Cost</label
              >
              <input
                name="routerCost"
                type="number"
                placeholder="0 if none"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Payment Date</label
              >
              <input
                name="paymentDate"
                type="date"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
          </div>
          <div class="flex items-center space-x-3 p-4 bg-gray-50 rounded-xl">
            <input
              type="checkbox"
              id="paidSubscription"
              name="paidSubscription"
              class="w-5 h-5 text-indigo-600 border-2 border-gray-300 rounded focus:ring-indigo-500"
            />
            <label for="paidSubscription" class="text-gray-700 font-medium">
              Has the user paid the subscription?
            </label>
          </div>
          <div>
            <label
              for="package"
              class="block text-sm font-semibold text-gray-700 mb-2"
            >
              Select Internet Package
            </label>
            <select
              name="package"
              id="package"
              required
              class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
            >
              <option value="" disabled selected>Choose a Package</option>
              <option>Bronze Plan - Up to 5 Mbps (Ksh 1,500/Month)</option>
              <option>Silver Plan - Up to 10 Mbps (Ksh 2,000/Month)</option>
              <option>Gold Plan - Up to 15 Mbps (Ksh 2,500/Month)</option>
              <option>Platinum Plan - Up to 20 Mbps (Ksh 3,000/Month)</option>
              <option>Super Plan - Up to 35 Mbps (Ksh 4,500/Month)</option>
              <option>
                Dedicated Link - Up to 200 Mbps (Contact for Quote)
              </option>
            </select>
          </div>
          <button
            type="submit"
            class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-lg font-semibold py-4 rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 transform hover:-translate-y-1 shadow-lg"
          >
            <span class="mr-2">‚ú®</span> Register User
          </button>
        </form>
      </section>

      <!-- Staff Registration Section -->
      <section
        id="register-staff"
        class="space-y-8 hidden transition-all duration-300 ease-in-out"
      >
        <h3
          class="text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent"
        >
          Register New Staff
        </h3>
        <form
          id="staffForm"
          class="bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-lg space-y-6"
          onsubmit="submitStaffForm(event)"
        >
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Full Name</label
              >
              <input
                name="name"
                placeholder="Enter full name"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Role/Position</label
              >
              <select
                name="position"
                required
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
              >
                <option value="" disabled selected>Select Role</option>
                <option value="Supervisor">Supervisor</option>
                <option value="Customer Care">Customer Care</option>
                <option value="Sales Representative">Sales Representative</option>
                <option value="Technician">Technician</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Department</label
              >
              <select
                name="department"
                required
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
              >
                <option value="" disabled selected>Select Department</option>
                <option value="Technical">Technical</option>
                <option value="Customer Service">Customer Service</option>
                <option value="Sales">Sales</option>
                <option value="Operations">Operations</option>
                <option value="Administration">Administration</option>
                <option value="Finance">Finance</option>
                <option value="Marketing">Marketing</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Contract Duration (months)</label
              >
              <input
                name="contractDuration"
                type="number"
                min="1"
                max="60"
                placeholder="e.g., 12 for 1 year"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >ID Number</label
              >
              <input
                name="employee_id"
                placeholder="Enter ID/Employee number"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Phone Number</label
              >
              <input
                name="phone"
                placeholder="+254 xxx xxx xxx"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Email Address</label
              >
              <input
                name="email"
                type="email"
                placeholder="Enter email address"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Salary (KSH)</label
              >
              <input
                name="salary"
                type="number"
                placeholder="Enter monthly salary"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Hire Date</label
              >
              <input
                name="hire_date"
                type="date"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2"
                >Initial Password</label
              >
              <input
                name="password"
                type="password"
                placeholder="Enter initial password"
                class="w-full p-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200"
                required
              />
            </div>
          </div>
          <div class="flex items-center space-x-3 p-4 bg-gray-50 rounded-xl">
            <input
              type="checkbox"
              id="isActive"
              name="isActive"
              checked
              class="w-5 h-5 text-indigo-600 border-2 border-gray-300 rounded focus:ring-indigo-500"
            />
            <label for="isActive" class="text-gray-700 font-medium">
              Activate account immediately
            </label>
          </div>
          <button
            type="submit"
            class="w-full bg-gradient-to-r from-green-600 to-blue-600 text-white text-lg font-semibold py-4 rounded-xl hover:from-green-700 hover:to-blue-700 transition-all duration-300 transform hover:-translate-y-1 shadow-lg"
          >
            <span class="mr-2">üë®‚Äçüíº</span> Register Staff
          </button>
        </form>
      </section>
    </main>
    <script src="js/config.js"></script>
    <script src="js/common.js"></script>
    <script src="js/sidebar-responsive.js"></script>
    <script src="js/register-user.js"></script>
  </body>
</html>
